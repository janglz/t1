(this["webpackJsonptodo-courses"]=this["webpackJsonptodo-courses"]||[]).push([[0],{10:function(e,t,n){e.exports={header:"Header_header__1VCKf",container:"Header_container__1VC87","header-navbar":"Header_header-navbar__341Uy","navbar-brand":"Header_navbar-brand__3HpHi","brand-icon":"Header_brand-icon__3Avos",hamburger:"Header_hamburger__uB-MN",hamburger__icon:"Header_hamburger__icon__KpY4o",navbar:"Header_navbar__3zH7f",content:"Header_content__1rjeP"}},12:function(e,t,n){e.exports={list:"List_list__3ccy6","main-favorites":"List_main-favorites__35IJ0",icon:"List_icon__26k2j",contentItem:"List_contentItem__2WIUE",itemImg:"List_itemImg__3Lcbk",value:"List_value__18BRp"}},15:function(e,t,n){e.exports={spinner:"Spinner_spinner__1Neu5","sk-bouncedelay":"Spinner_sk-bouncedelay__3AzJk",bounce1:"Spinner_bounce1__13hxm",bounce2:"Spinner_bounce2__1cFIk"}},22:function(e,t,n){e.exports={wrapper:"App_wrapper__1sTAm",main:"App_main__cNih0"}},33:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),i=n(9),s=n(0),c=n.n(s),o=n(17),l=n.n(o),u=n(25),d=n(16),h=n(19),b=n(20),v=n(3),f=v.a.object({id:v.a.string().or(v.a.number()),login:v.a.string(),description:v.a.string().or(v.a.null()).or(v.a.undefined()),avatar_url:v.a.string(),organizations_url:v.a.string().or(v.a.undefined())}),p=(v.a.object({id:v.a.string().or(v.a.number()),login:v.a.string(),description:v.a.string().or(v.a.undefined()).or(v.a.null()),avatarUrl:v.a.string(),inFavorites:v.a.boolean().or(v.a.undefined()),orgaznizationsUrl:v.a.string().or(v.a.undefined()),type:v.a.string()}).array(),v.a.array(f));function _(e){return j.apply(this,arguments)}function j(){return(j=Object(i.a)(a.a.mark((function e(t){var n,r,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.length>1&&void 0!==s[1]?s[1]:"",e.t0=t,e.next="users"===e.t0?4:"organizations"===e.t0?6:8;break;case 4:return r="https://api.github.com/users".concat(n),e.abrupt("break",10);case 6:return r="https://api.github.com/organizations".concat(n),e.abrupt("break",10);case 8:return console.log(new Error("Fetch type error")),e.abrupt("return",[]);case 10:return e.next=12,fetch(r).then(function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return n=e.sent,e.abrupt("return",n||[]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return console.log("there is no data available:",e),[]}));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m,g=n(2),O=function(){function e(t,n,r,a){Object(h.a)(this,e),this.page=void 0,this.showMenu=void 0,this.mobile=void 0,this.loading=void 0,Object(g.l)(this,{},{autoBind:!0}),this.page=t,this.showMenu=n,this.mobile=r,this.loading=a}return Object(b.a)(e,[{key:"setLoading",value:function(e){this.loading=e}},{key:"setMobile",value:function(e){this.mobile=e}},{key:"setShowMenu",value:function(e){this.showMenu=e}},{key:"setPage",value:function(e){this.page=e||""}}]),e}(),x=n(14),w=n.n(x),y=function(){function e(t,n,r,a,i,s,c){Object(h.a)(this,e),this.users=void 0,this.organizations=void 0,this.favorites=void 0,this.card=void 0,this.searchQuery=void 0,this.apiQuery=void 0,this.error=void 0,this.UIStore=void 0,Object(g.l)(this,{},{autoBind:!0}),this.users=t,this.organizations=n,this.favorites=r,this.card=a,this.searchQuery=i,this.apiQuery=c,this.error=s,this.UIStore=new O(null,!0,window.innerWidth<900,!1)}return Object(b.a)(e,[{key:"setApiQuery",value:function(e){var t,n,r;switch(e){case"users":r=(null===(t=w.a.last(this.users))||void 0===t?void 0:t.id)||"";break;case"organizations":r=(null===(n=w.a.last(this.organizations))||void 0===n?void 0:n.id)||"";break;default:return}r&&(this.apiQuery="?since=".concat(r))}},{key:"searchFavorites",get:function(){var e=this;return this.searchQuery?this.favorites.filter((function(t){var n,r;return(null===t||void 0===t||null===(n=t.login)||void 0===n?void 0:n.toLowerCase().includes(e.searchQuery.toLowerCase()))||(null===t||void 0===t||null===(r=t.description)||void 0===r?void 0:r.toLowerCase().includes(e.searchQuery.toLowerCase()))})):this.favorites}},{key:"setSearchQuery",value:function(e){this.searchQuery=e}},{key:"setUsers",value:function(e){this.users=e}},{key:"setOrganizations",value:function(e){this.organizations=e}},{key:"setCard",value:function(e){this.card=e}},{key:"initApp",value:function(){this.favorites=function(e,t){var n=localStorage.getItem(e);if(!n)return t;try{return JSON.parse(n)}catch(r){return t}}("favorites",null)}},{key:"toggleFavorites",value:function(e){var t,n;if(e){var r=Object(d.a)(Object(d.a)({},e),{},{inFavorites:!e.inFavorites});null===this.favorites?this.favorites=[r]:this.favorites=this.favorites.some((function(t){return t.login===(null===e||void 0===e?void 0:e.login)}))?this.favorites.filter((function(t){return t.login!==(null===e||void 0===e?void 0:e.login)})):[].concat(Object(u.a)(this.favorites),[r]);var a,i,s=function(t){return t.login===(null===e||void 0===e?void 0:e.login)?r:t};"users"===e.type&&(this.users=(null===(t=this.users)||void 0===t?void 0:t.map(s))||null),"organizations"===e.type&&(this.organizations=(null===(n=this.organizations)||void 0===n?void 0:n.map(s))||null),this.setCard(r),a="favorites",i=this.favorites,localStorage.setItem(a,JSON.stringify(i))}}},{key:"updateData",value:a.a.mark((function e(t,n){var r,i,s,c,o=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return");case 2:return this.UIStore.setLoading(!0),e.next=5,_(t,n);case 5:r=e.sent,i=p.parse(r),s=i.map((function(e){return{id:String(e.id),login:e.login,description:e.description,avatarUrl:e.avatar_url,inFavorites:!1,type:t,orgaznizationsUrl:e.organizations_url||void 0}})),c=this.favorites?s.map((function(e){return o.favorites.some((function(t){return t.login===e.login}))?Object(d.a)(Object(d.a)({},e),{},{inFavorites:!0}):e})):s,"organizations"===t&&(this.organizations=w.a.unionBy(this.organizations,c,"id")),"users"===t&&(this.users=w.a.unionBy(this.users,c,"id")),this.UIStore.setLoading(!1);case 12:case"end":return e.stop()}}),e,this)}))}]),e}(),N=Object(s.createContext)({}),k=n(10),C=n.n(k),S=n.p+"static/media/logo.98fa2318.svg",z=["title","titleId"];function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function P(e,t){var n=e.title,r=e.titleId,a=M(e,z);return s.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px",ref:t,"aria-labelledby":r},a),n?s.createElement("title",{id:r},n):null,m||(m=s.createElement("path",{d:"M2 11H22V13H2zM2 5H22V7H2zM2 17H22V19H2z"})))}var U,E=s.forwardRef(P),F=(n.p,n(8)),L=n(1),H=Object(F.a)((function(){var e=Object(s.useContext)(N).UIStore,t=e.mobile,n=e.showMenu,r=e.setShowMenu;return Object(L.jsx)("header",{className:C.a.header,children:Object(L.jsx)("div",{className:C.a.container,children:Object(L.jsxs)("div",{className:C.a["header-navbar"],children:[t&&Object(L.jsx)("button",{className:C.a.hamburger,onClick:function(){r(!n)},children:Object(L.jsx)(E,{className:C.a.hamburger__icon})}),Object(L.jsx)("a",{className:C.a["navbar-brand"],href:"#",children:Object(L.jsx)("img",{src:S,id:"logo",className:C.a["brand-icon"]})})]})})})})),Q=n(21),A=n(4),B=n.n(A),J=["title","titleId"];function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function T(e,t){var n=e.title,r=e.titleId,a=D(e,J);return s.createElement("svg",W({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 485 485",style:{enableBackground:"new 0 0 485 485"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},a),n?s.createElement("title",{id:r},n):null,U||(U=s.createElement("g",null,s.createElement("path",{d:"M343.611,22.543c-22.613,0-44.227,5.184-64.238,15.409c-13.622,6.959-26.136,16.205-36.873,27.175 c-10.738-10.97-23.251-20.216-36.873-27.175c-20.012-10.225-41.625-15.409-64.239-15.409C63.427,22.543,0,85.97,0,163.932 c0,55.219,29.163,113.866,86.678,174.314c48.022,50.471,106.816,92.543,147.681,118.95l8.141,5.261l8.141-5.261 c40.865-26.406,99.659-68.479,147.682-118.95C455.838,277.798,485,219.151,485,163.932C485,85.97,421.573,22.543,343.611,22.543z  M376.589,317.566c-42.918,45.106-95.196,83.452-134.089,109.116c-38.893-25.665-91.171-64.01-134.088-109.116 C56.381,262.884,30,211.194,30,163.932c0-61.42,49.969-111.389,111.389-111.389c35.361,0,67.844,16.243,89.118,44.563 l11.993,15.965l11.993-15.965c21.274-28.32,53.757-44.563,89.118-44.563c61.42,0,111.389,49.969,111.389,111.389 C455,211.194,428.618,262.884,376.589,317.566z"}))))}var R=s.forwardRef(T),V=(n.p,n(11)),q=n.n(V),K=Object(F.a)((function(){var e=Object(s.useContext)(N),t=e.UIStore,n=e.setCard,r=(e.updateData,Object(s.useState)(!1)),c=Object(Q.a)(r,2),o=c[0],l=c[1];Object(s.useLayoutEffect)((function(){return window.addEventListener("resize",u),function(){return window.removeEventListener("resize",u)}}),[]),Object(s.useEffect)((function(){t.setShowMenu(!0)}),[t.mobile]),Object(s.useEffect)((function(){window.requestAnimationFrame((function(){return l(!!t.showMenu)}))}),[t.showMenu]);var u=function(){return t.setMobile(window.innerWidth<900)},d=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.mobile?(window.requestAnimationFrame((function(){return l(!1)})),setTimeout((function(){n(null),t.setPage("organizations"),t.setShowMenu(!1)}),200)):(n(null),t.setPage("organizations"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.mobile?(window.requestAnimationFrame((function(){return l(!1)})),setTimeout((function(){n(null),t.setPage("users"),t.setShowMenu(!1)}),200)):(n(null),t.setPage("users"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t.showMenu?Object(L.jsx)("div",{className:t.mobile?B.a.overlay:void 0,onClick:function(e){return function(e){e.stopPropagation(),t.mobile&&(l(!1),setTimeout((function(){t.setShowMenu(!1)}),200))}(e)},children:Object(L.jsx)("aside",{className:q()(B.a.menu,t.mobile&&"".concat(B.a.mobile," ").concat(o?B.a.opening:B.a.closing)),children:Object(L.jsxs)("ul",{className:B.a.content,children:[Object(L.jsx)("li",{className:B.a.list__item,children:Object(L.jsxs)("button",{className:q()(B.a.btn__transparent,"favorites"===t.page&&B.a.selected),onClick:function(){t.mobile?(window.requestAnimationFrame((function(){return l(!1)})),setTimeout((function(){t.setShowMenu(!1),n(null),t.setPage("favorites")}),200)):(n(null),t.setPage("favorites"))},children:["\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",Object(L.jsx)(R,{className:B.a.icon})]})}),Object(L.jsx)("li",{className:B.a.list__item,children:Object(L.jsx)("button",{className:q()(B.a.btn__transparent,"users"===t.page&&B.a.selected),onClick:function(){return h()},children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})}),Object(L.jsx)("li",{className:B.a.list__item,children:Object(L.jsx)("button",{className:q()(B.a.btn__transparent,"organizations"===t.page&&B.a.selected),onClick:function(){return d()},children:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"})})]})})}):null})),Z=n(7),X=n.n(Z),Y=n.p+"static/media/filter.e1d29bd3.svg",G=n.p+"static/media/search.28b0ad10.svg",$=n(12),ee=n.n($),te=n(15),ne=n.n(te),re=function(){return Object(L.jsxs)("div",{className:ne.a.spinner,children:[Object(L.jsx)("div",{className:ne.a.bounce1}),Object(L.jsx)("div",{className:ne.a.bounce2}),Object(L.jsx)("div",{className:ne.a.bounce3})]})};function ae(e){var t=e.filtered,n=Object(s.useContext)(N),r=n.setCard,a=n.UIStore,i=null===t?null:t.map((function(e){return Object(L.jsxs)("li",{className:ee.a.contentItem,onClick:function(){return r(e)},children:[Object(L.jsx)("div",{className:ee.a.itemImg,children:Object(L.jsx)("img",{src:e.avatarUrl})}),Object(L.jsxs)("div",{className:ee.a.value,children:[Object(L.jsx)("h4",{className:"main-cotent__item-title",children:e.login}),Object(L.jsx)("p",{className:"main-cotent__item-text",children:e.type})]}),"favorites"!==a.page&&Object(L.jsx)("span",{className:ee.a.icon,children:e.inFavorites&&Object(L.jsx)(R,{})})]},e.login)}));return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)("ul",{className:ee.a.list,children:[i,a.loading?Object(L.jsx)(re,{}):null]})})}var ie=Object(F.a)((function(){var e=Object(s.useContext)(N),t=e.UIStore,n=e.organizations,r=e.users,a=e.searchFavorites,i=e.card,o=e.searchQuery,l=e.setSearchQuery,u=e.updateData,d=e.apiQuery,h=e.setApiQuery,b=Object(s.useRef)(null),v=function(e){var t,n=s.useState(!1),r=Object(Q.a)(n,2),a=r[0],i=r[1],c=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&i(!0)}))}),{threshold:.1,root:null!==(t=e.current)&&void 0!==t?t:null,rootMargin:"0px"});return s.useEffect((function(){c.disconnect()}),[a]),{createScrollObserver:function(){return c},isIntersecting:a,setisIntersecting:i}}(b),f=v.createScrollObserver,p=v.isIntersecting,_=v.setisIntersecting,j=f();c.a.useEffect((function(){(null===b||void 0===b?void 0:b.current)&&j.observe(b.current)}),[t.page]),Object(s.useEffect)((function(){p&&null!==t.page&&"favorites"!==t.page&&h(t.page),_(!1),t.page&&u(t.page,d)}),[p]);var m=function(e){switch(e){case"users":return r;case"organizations":return n;case"favorites":return a;default:return null}}(t.page);return!!t.page&&!t.mobile||!i&&t.mobile&&t.page?Object(L.jsxs)("aside",{className:X.a.menu,children:["favorites"===t.page&&Object(L.jsxs)("div",{className:X.a.search,children:[Object(L.jsx)("span",{className:X.a.searchIcon,children:Object(L.jsx)("img",{src:G,id:"search",className:X.a.searchIcon})}),Object(L.jsx)("form",{className:X.a.form,onSubmit:function(e){return e.preventDefault()},children:Object(L.jsx)("input",{type:"text",id:"search",placeholder:"\u041d\u0430\u0439\u0442\u0438...",value:o,onChange:function(e){return t=e.target.value,void l(t||"");var t},autoFocus:!0,autoComplete:"off"})}),Object(L.jsx)("span",{className:X.a.filter,children:Object(L.jsx)("img",{src:Y,id:"filter",className:X.a.filterIcon})})]}),Object(L.jsx)("nav",{className:X.a.navbar,children:Object(L.jsxs)("div",{className:X.a.content,children:[Object(L.jsx)(ae,{filtered:m}),"favorites"!==t.page&&Object(L.jsx)("div",{ref:b})]})})]}):null})),se=n(6),ce=n.n(se),oe=Object(F.a)((function(){var e=Object(s.useContext)(N),t=e.card,n=e.setCard,r=e.toggleFavorites,a=e.UIStore,i=q()(ce.a.btn__div,(null===t||void 0===t?void 0:t.inFavorites)?ce.a.active:ce.a.inactive);return t&&Object(L.jsx)("div",{className:ce.a.wrapper,children:Object(L.jsx)("section",{className:ce.a.section,children:Object(L.jsx)("div",{className:ce.a.container,children:Object(L.jsxs)("div",{className:ce.a.content,children:[Object(L.jsx)("div",{className:ce.a.image,children:Object(L.jsx)("img",{src:t.avatarUrl})}),Object(L.jsxs)("div",{className:ce.a.inner,children:[a.mobile&&Object(L.jsx)("button",{className:ce.a.back,onClick:function(){return n(null)},children:"\u2190\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"}),Object(L.jsx)("h1",{className:ce.a.title,children:t.login}),Object(L.jsx)("p",{className:ce.a.description,children:t.description}),t.orgaznizationsUrl&&Object(L.jsx)("p",{className:ce.a.description,children:"\u0421\u043e\u0441\u0442\u043e\u0438\u0442 \u0432 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f\u0445:"}),t.orgaznizationsUrl&&Object(L.jsx)("p",{className:ce.a.description,children:t.orgaznizationsUrl})]}),Object(L.jsx)("div",{className:i,children:Object(L.jsx)("button",{children:Object(L.jsx)("div",{className:ce.a.icon,onClick:function(){r(t)},children:Object(L.jsx)(R,{})})})})]})})})})})),le=n(22),ue=n.n(le),de=function(){var e=new y([],[],[],null,"",null,"");return e.initApp(),Object(L.jsx)(N.Provider,{value:e,children:Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{className:ue.a.wrapper,children:Object(L.jsx)(H,{})}),Object(L.jsx)("div",{className:ue.a.wrapper,children:Object(L.jsxs)("main",{className:ue.a.main,children:[Object(L.jsx)(K,{}),Object(L.jsx)(ie,{}),Object(L.jsx)(oe,{})]})})]})})},he=document.getElementById("root");l.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(de,{})}),he),window.addEventListener("load",Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"serviceWorker"in navigator&&navigator.serviceWorker.register("./t1/serviceWorker.js",{scope:"./t1/"}).then((function(e){console.log("Registration succeeded. Scope is "+e.scope)})).catch((function(e){console.log("Registration failed with "+e)}));case 1:case"end":return e.stop()}}),e)}))))},4:function(e,t,n){e.exports={menu:"Menu_menu__1dkVn",overlay:"Menu_overlay__3XdR8",mobile:"Menu_mobile__3xcDC",content:"Menu_content__t9QLo",opening:"Menu_opening__YWDtE",list__item:"Menu_list__item__z0T5X",icon:"Menu_icon__10gpe",btn__transparent:"Menu_btn__transparent__Kai0j",selected:"Menu_selected__2IdaE"}},6:function(e,t,n){e.exports={section:"Card_section__nWN77",container:"Card_container__xUtDs",wrapper:"Card_wrapper__nJscL",content:"Card_content__3AF9x",image:"Card_image__2psJx",inner:"Card_inner__MJcS_",title:"Card_title__3gUfU",description:"Card_description__2cv51",btn__div:"Card_btn__div__2-oGW",icon:"Card_icon__1MZeu",back:"Card_back__1vUl7",active:"Card_active__3rcBb",like:"Card_like__3OqBP",inactive:"Card_inactive__UKz2r",dislike:"Card_dislike__3wPyP"}},7:function(e,t,n){e.exports={menu:"SearchPanel_menu__76nbr",search:"SearchPanel_search__2ZTxw",searchIcon:"SearchPanel_searchIcon__a_D_Z",form:"SearchPanel_form__1hhly",filterIcon:"SearchPanel_filterIcon__3M2BM",navbar:"SearchPanel_navbar__3ha5T",content:"SearchPanel_content__3Z3lk"}}},[[33,1,2]]]);
//# sourceMappingURL=main.e05042c9.chunk.js.map